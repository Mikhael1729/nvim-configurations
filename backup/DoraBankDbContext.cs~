using Microsoft.EntityFrameworkCore;
using Core.Models

namespace CoreApi.Data
{
  public class DoraBankDbContext : DbContext
  {
     public DbSet<Account> Accounts { get; set; }
     public DbSet<AccountMovement> AccountMovements { get; set; }
     public DbSet<Loan> Loans { get; set; }
     public DbSet<Permission> Permissions { get; set; }
     public DbSet<Role> Roles { get; set; }
     public DbSet<RolePermission> RolePermissions { get; set; }
     public DbSet<User> Users { get; set; }
     public DbSet<UserRole> UserRoles { get; set; }

    public DoraBankDbContext(DbContextOptions<DoraBankDbContext> options) : base(options)
    {  }

    /*
     *purotected override OnModelCreating(ModelBuilder builder)
     *{
     *  builder.Entity
     *}
     */

    protected override void OnModelCreating(ModelBuilder builder)
    {
      builder.Entity<Account>().ToTable("Accounts");
      builder.Entity<AccountMovement>().ToTable("AccountMovements");
      builder.Entity<Loan>().ToTable("Loans");
      builder.Entity<Permission>().ToTable("Permissions");
      builder.Entity<Role>().ToTable("Roles");
      builder.Entity<RolePermission>().ToTable("RolePermissions");
      builder.Entity<User>().ToTable("Users");
      builder.Entity<UserRole>().ToTable("UserRoles");
    }
  }
}
