import React, { FC } from "react"
import { Typography, Grid } from "@material-ui/core"
import { Assessment, PieChart, CalendarToday } from "@material-ui/icons"
import CardSection from "components/card-section"
import WelcomeUser from "./welcome-user"
import AccountBalanceChart from "components/account-balance-chart"
import Calendar from "./calendar/calendar"
import LastsAccountMovements from "./last-account-movements"
import { UserHomeAndStoreProps } from ".";
import SC from "models/screen-component";
import { RouteComponentProps } from "@reach/router";

export interface IUSerHomeProps extends RouteComponentProps {
  location?: any
}

const UserHome: SC<UserHomeAndStoreProps> = (props) => {
  const { userFullName, previousAccessDate, accountBalances, accounts } = props;
  return (
    <div>
      <Typography variant="h3">Inicio</Typography>

      <br />

      <Grid container={true}>
        <Grid item={true}>
          <WelcomeUser
            welcomeMessage="¡Bienvenido nuevamente!"
            userFullName={userFullName}
            previousAcessDate={previousAccessDate}
          />
        </Grid>
      </Grid>

      <br />

      <Grid container={true} spacing={3}>
        <Grid item={true} sm={12} md={8}>
          <CardSection title="Gráfica de estado de la cuenta" icon={PieChart}>
            <AccountBalanceChart accountsData={accountBalances} />
          </CardSection>
        </Grid>
        <Grid item={true} sm={12} md={4}>
          <CardSection title="Calendario" icon={CalendarToday}>
            <Calendar date={new Date(Date.now())} />
          </CardSection>
        </Grid>
      </Grid>
      <br />

      <CardSection title="Últimas transacciones" icon={Assessment}>
        <LastsAccountMovements accounts={accounts} />
      </CardSection>
    </div>
  )
}

UserHome.routeName = "/";

UserHome.defaultProps = {
  location: {},
}

export default UserHome
